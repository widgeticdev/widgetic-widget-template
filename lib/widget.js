!function(t){var n={};function e(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(i,o,function(n){return t[n]}.bind(null,o));return i},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=9)}([function(t,n){function e(t){this.fn=t,this.deleted=!1}t.exports=function(){var t=[];return{broadcast:function(n){for(var e=t.slice(),i=0;i<e.length;i++)e[i].deleted||e[i].fn(n)},listen:function(n){return t.push(new e(n)),function(){for(var e=0;e<t.length;e++)if(t[e].fn===n){t[e].deleted=!0,t.splice(e,1);break}}}}}},function(t,n,e){t.exports=function(){"use strict";return function(t,n,e){n=n||"";var i=(e=e||{}).complete||function(){},o=e.success||function(){},r=e.error||function(){},s=e.headers||{},a=e.method||"GET",l=e.sync||!1,c=0===t.indexOf("http")&&"undefined"!=typeof XDomainRequest?new XDomainRequest:new XMLHttpRequest;if(!c)throw new Error("Browser doesn't support XHR");if("string"!=typeof n){var u=[];for(var d in n)u.push(d+"="+n[d]);n=u.join("&")}for(var h in"ontimeout"in c&&(c.ontimeout=+e.timeout||0),c.onload=function(){i(c.responseText,c.status),o(c.responseText)},c.onerror=function(){i(c.responseText),r(c.responseText,c.status)},c.open(a,"GET"===a&&n?t+"?"+n:t,!l),s)c.setRequestHeader(h,s[h]);return c.send("GET"!==a?n:null),c}}()},function(t,n,e){var i;!function(o){var r=/^\s+/,s=/\s+$/,a=0,l=o.round,c=o.min,u=o.max,d=o.random;function h(t,n){if(n=n||{},(t=t||"")instanceof h)return t;if(!(this instanceof h))return new h(t,n);var e=function(t){var n={r:0,g:0,b:0},e=1,i=null,a=null,l=null,d=!1,h=!1;"string"==typeof t&&(t=function(t){t=t.replace(r,"").replace(s,"").toLowerCase();var n,e=!1;if(T[t])t=T[t],e=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};if(n=W.rgb.exec(t))return{r:n[1],g:n[2],b:n[3]};if(n=W.rgba.exec(t))return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=W.hsl.exec(t))return{h:n[1],s:n[2],l:n[3]};if(n=W.hsla.exec(t))return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=W.hsv.exec(t))return{h:n[1],s:n[2],v:n[3]};if(n=W.hsva.exec(t))return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=W.hex8.exec(t))return{r:z(n[1]),g:z(n[2]),b:z(n[3]),a:D(n[4]),format:e?"name":"hex8"};if(n=W.hex6.exec(t))return{r:z(n[1]),g:z(n[2]),b:z(n[3]),format:e?"name":"hex"};if(n=W.hex4.exec(t))return{r:z(n[1]+""+n[1]),g:z(n[2]+""+n[2]),b:z(n[3]+""+n[3]),a:D(n[4]+""+n[4]),format:e?"name":"hex8"};if(n=W.hex3.exec(t))return{r:z(n[1]+""+n[1]),g:z(n[2]+""+n[2]),b:z(n[3]+""+n[3]),format:e?"name":"hex"};return!1}(t));"object"==typeof t&&(q(t.r)&&q(t.g)&&q(t.b)?(f=t.r,p=t.g,g=t.b,n={r:255*M(f,255),g:255*M(p,255),b:255*M(g,255)},d=!0,h="%"===String(t.r).substr(-1)?"prgb":"rgb"):q(t.h)&&q(t.s)&&q(t.v)?(i=F(t.s),a=F(t.v),n=function(t,n,e){t=6*M(t,360),n=M(n,100),e=M(e,100);var i=o.floor(t),r=t-i,s=e*(1-n),a=e*(1-r*n),l=e*(1-(1-r)*n),c=i%6;return{r:255*[e,a,s,s,l,e][c],g:255*[l,e,e,a,s,s][c],b:255*[s,s,l,e,e,a][c]}}(t.h,i,a),d=!0,h="hsv"):q(t.h)&&q(t.s)&&q(t.l)&&(i=F(t.s),l=F(t.l),n=function(t,n,e){var i,o,r;function s(t,n,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?t+6*(n-t)*e:e<.5?n:e<2/3?t+(n-t)*(2/3-e)*6:t}if(t=M(t,360),n=M(n,100),e=M(e,100),0===n)i=o=r=e;else{var a=e<.5?e*(1+n):e+n-e*n,l=2*e-a;i=s(l,a,t+1/3),o=s(l,a,t),r=s(l,a,t-1/3)}return{r:255*i,g:255*o,b:255*r}}(t.h,i,l),d=!0,h="hsl"),t.hasOwnProperty("a")&&(e=t.a));var f,p,g;return e=H(e),{ok:d,format:t.format||h,r:c(255,u(n.r,0)),g:c(255,u(n.g,0)),b:c(255,u(n.b,0)),a:e}}(t);this._originalInput=t,this._r=e.r,this._g=e.g,this._b=e.b,this._a=e.a,this._roundA=l(100*this._a)/100,this._format=n.format||e.format,this._gradientType=n.gradientType,this._r<1&&(this._r=l(this._r)),this._g<1&&(this._g=l(this._g)),this._b<1&&(this._b=l(this._b)),this._ok=e.ok,this._tc_id=a++}function f(t,n,e){t=M(t,255),n=M(n,255),e=M(e,255);var i,o,r=u(t,n,e),s=c(t,n,e),a=(r+s)/2;if(r==s)i=o=0;else{var l=r-s;switch(o=a>.5?l/(2-r-s):l/(r+s),r){case t:i=(n-e)/l+(n<e?6:0);break;case n:i=(e-t)/l+2;break;case e:i=(t-n)/l+4}i/=6}return{h:i,s:o,l:a}}function p(t,n,e){t=M(t,255),n=M(n,255),e=M(e,255);var i,o,r=u(t,n,e),s=c(t,n,e),a=r,l=r-s;if(o=0===r?0:l/r,r==s)i=0;else{switch(r){case t:i=(n-e)/l+(n<e?6:0);break;case n:i=(e-t)/l+2;break;case e:i=(t-n)/l+4}i/=6}return{h:i,s:o,v:a}}function g(t,n,e,i){var o=[O(l(t).toString(16)),O(l(n).toString(16)),O(l(e).toString(16))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function m(t,n,e,i){return[O(R(i)),O(l(t).toString(16)),O(l(n).toString(16)),O(l(e).toString(16))].join("")}function v(t,n){n=0===n?0:n||10;var e=h(t).toHsl();return e.s-=n/100,e.s=N(e.s),h(e)}function b(t,n){n=0===n?0:n||10;var e=h(t).toHsl();return e.s+=n/100,e.s=N(e.s),h(e)}function w(t){return h(t).desaturate(100)}function y(t,n){n=0===n?0:n||10;var e=h(t).toHsl();return e.l+=n/100,e.l=N(e.l),h(e)}function $(t,n){n=0===n?0:n||10;var e=h(t).toRgb();return e.r=u(0,c(255,e.r-l(-n/100*255))),e.g=u(0,c(255,e.g-l(-n/100*255))),e.b=u(0,c(255,e.b-l(-n/100*255))),h(e)}function x(t,n){n=0===n?0:n||10;var e=h(t).toHsl();return e.l-=n/100,e.l=N(e.l),h(e)}function _(t,n){var e=h(t).toHsl(),i=(e.h+n)%360;return e.h=i<0?360+i:i,h(e)}function k(t){var n=h(t).toHsl();return n.h=(n.h+180)%360,h(n)}function j(t){var n=h(t).toHsl(),e=n.h;return[h(t),h({h:(e+120)%360,s:n.s,l:n.l}),h({h:(e+240)%360,s:n.s,l:n.l})]}function S(t){var n=h(t).toHsl(),e=n.h;return[h(t),h({h:(e+90)%360,s:n.s,l:n.l}),h({h:(e+180)%360,s:n.s,l:n.l}),h({h:(e+270)%360,s:n.s,l:n.l})]}function A(t){var n=h(t).toHsl(),e=n.h;return[h(t),h({h:(e+72)%360,s:n.s,l:n.l}),h({h:(e+216)%360,s:n.s,l:n.l})]}function C(t,n,e){n=n||6,e=e||30;var i=h(t).toHsl(),o=360/e,r=[h(t)];for(i.h=(i.h-(o*n>>1)+720)%360;--n;)i.h=(i.h+o)%360,r.push(h(i));return r}function E(t,n){n=n||6;for(var e=h(t).toHsv(),i=e.h,o=e.s,r=e.v,s=[],a=1/n;n--;)s.push(h({h:i,s:o,v:r})),r=(r+a)%1;return s}h.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,n,e,i=this.toRgb();return t=i.r/255,n=i.g/255,e=i.b/255,.2126*(t<=.03928?t/12.92:o.pow((t+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:o.pow((n+.055)/1.055,2.4))+.0722*(e<=.03928?e/12.92:o.pow((e+.055)/1.055,2.4))},setAlpha:function(t){return this._a=H(t),this._roundA=l(100*this._a)/100,this},toHsv:function(){var t=p(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=p(this._r,this._g,this._b),n=l(360*t.h),e=l(100*t.s),i=l(100*t.v);return 1==this._a?"hsv("+n+", "+e+"%, "+i+"%)":"hsva("+n+", "+e+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=f(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=f(this._r,this._g,this._b),n=l(360*t.h),e=l(100*t.s),i=l(100*t.l);return 1==this._a?"hsl("+n+", "+e+"%, "+i+"%)":"hsla("+n+", "+e+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return g(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(t,n,e,i,o){var r=[O(l(t).toString(16)),O(l(n).toString(16)),O(l(e).toString(16)),O(R(i))];if(o&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)&&r[3].charAt(0)==r[3].charAt(1))return r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0)+r[3].charAt(0);return r.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:l(this._r),g:l(this._g),b:l(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+l(this._r)+", "+l(this._g)+", "+l(this._b)+")":"rgba("+l(this._r)+", "+l(this._g)+", "+l(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:l(100*M(this._r,255))+"%",g:l(100*M(this._g,255))+"%",b:l(100*M(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+l(100*M(this._r,255))+"%, "+l(100*M(this._g,255))+"%, "+l(100*M(this._b,255))+"%)":"rgba("+l(100*M(this._r,255))+"%, "+l(100*M(this._g,255))+"%, "+l(100*M(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(P[g(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var n="#"+m(this._r,this._g,this._b,this._a),e=n,i=this._gradientType?"GradientType = 1, ":"";if(t){var o=h(t);e="#"+m(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+e+")"},toString:function(t){var n=!!t;t=t||this._format;var e=!1,i=this._a<1&&this._a>=0;return n||!i||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(e=this.toRgbString()),"prgb"===t&&(e=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(e=this.toHexString()),"hex3"===t&&(e=this.toHexString(!0)),"hex4"===t&&(e=this.toHex8String(!0)),"hex8"===t&&(e=this.toHex8String()),"name"===t&&(e=this.toName()),"hsl"===t&&(e=this.toHslString()),"hsv"===t&&(e=this.toHsvString()),e||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return h(this.toString())},_applyModification:function(t,n){var e=t.apply(null,[this].concat([].slice.call(n)));return this._r=e._r,this._g=e._g,this._b=e._b,this.setAlpha(e._a),this},lighten:function(){return this._applyModification(y,arguments)},brighten:function(){return this._applyModification($,arguments)},darken:function(){return this._applyModification(x,arguments)},desaturate:function(){return this._applyModification(v,arguments)},saturate:function(){return this._applyModification(b,arguments)},greyscale:function(){return this._applyModification(w,arguments)},spin:function(){return this._applyModification(_,arguments)},_applyCombination:function(t,n){return t.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(C,arguments)},complement:function(){return this._applyCombination(k,arguments)},monochromatic:function(){return this._applyCombination(E,arguments)},splitcomplement:function(){return this._applyCombination(A,arguments)},triad:function(){return this._applyCombination(j,arguments)},tetrad:function(){return this._applyCombination(S,arguments)}},h.fromRatio=function(t,n){if("object"==typeof t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[i]="a"===i?t[i]:F(t[i]));t=e}return h(t,n)},h.equals=function(t,n){return!(!t||!n)&&h(t).toRgbString()==h(n).toRgbString()},h.random=function(){return h.fromRatio({r:d(),g:d(),b:d()})},h.mix=function(t,n,e){e=0===e?0:e||50;var i=h(t).toRgb(),o=h(n).toRgb(),r=e/100;return h({r:(o.r-i.r)*r+i.r,g:(o.g-i.g)*r+i.g,b:(o.b-i.b)*r+i.b,a:(o.a-i.a)*r+i.a})},h.readability=function(t,n){var e=h(t),i=h(n);return(o.max(e.getLuminance(),i.getLuminance())+.05)/(o.min(e.getLuminance(),i.getLuminance())+.05)},h.isReadable=function(t,n,e){var i,o,r=h.readability(t,n);switch(o=!1,(i=function(t){var n,e;n=((t=t||{level:"AA",size:"small"}).level||"AA").toUpperCase(),e=(t.size||"small").toLowerCase(),"AA"!==n&&"AAA"!==n&&(n="AA");"small"!==e&&"large"!==e&&(e="small");return{level:n,size:e}}(e)).level+i.size){case"AAsmall":case"AAAlarge":o=r>=4.5;break;case"AAlarge":o=r>=3;break;case"AAAsmall":o=r>=7}return o},h.mostReadable=function(t,n,e){var i,o,r,s,a=null,l=0;o=(e=e||{}).includeFallbackColors,r=e.level,s=e.size;for(var c=0;c<n.length;c++)(i=h.readability(t,n[c]))>l&&(l=i,a=h(n[c]));return h.isReadable(t,a,{level:r,size:s})||!o?a:(e.includeFallbackColors=!1,h.mostReadable(t,["#fff","#000"],e))};var T=h.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},P=h.hexNames=function(t){var n={};for(var e in t)t.hasOwnProperty(e)&&(n[t[e]]=e);return n}(T);function H(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function M(t,n){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var e=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(t);return t=c(n,u(0,parseFloat(t))),e&&(t=parseInt(t*n,10)/100),o.abs(t-n)<1e-6?1:t%n/parseFloat(n)}function N(t){return c(1,u(0,t))}function z(t){return parseInt(t,16)}function O(t){return 1==t.length?"0"+t:""+t}function F(t){return t<=1&&(t=100*t+"%"),t}function R(t){return o.round(255*parseFloat(t)).toString(16)}function D(t){return z(t)/255}var I,V,L,W=(V="[\\s|\\(]+("+(I="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+I+")[,|\\s]+("+I+")\\s*\\)?",L="[\\s|\\(]+("+I+")[,|\\s]+("+I+")[,|\\s]+("+I+")[,|\\s]+("+I+")\\s*\\)?",{CSS_UNIT:new RegExp(I),rgb:new RegExp("rgb"+V),rgba:new RegExp("rgba"+L),hsl:new RegExp("hsl"+V),hsla:new RegExp("hsla"+L),hsv:new RegExp("hsv"+V),hsva:new RegExp("hsva"+L),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function q(t){return!!W.CSS_UNIT.exec(t)}t.exports?t.exports=h:void 0===(i=function(){return h}.call(n,e,n,t))||(t.exports=i)}(Math)},function(t,n){(function(n){t.exports=n}).call(this,{})},function(t,n,e){(function(t,i){var o;(function(r){"use strict";var s,a=0,l=Array.prototype.slice,c=function(t,n){var e=t[n];if(e===r&&s.config.strict)throw new Error("Bottle was unable to resolve a service.  `"+n+"` is undefined.");return e},u=function(t){var n;return this.nested[t]||(n=s.pop(),this.nested[t]=n,this.factory(t,(function(){return n.container}))),this.nested[t]},d=function(t){return t.split(".").reduce(c,this)},h=function(t,n){return n(t)},f=function(t,n){return(t[n]||[]).concat(t.__global__||[])},p=function(t,n){var e,i,o,s,a;return this.id,o=this.container,s=this.decorators,a=this.middlewares,e=t+"Provider",(i=Object.create(null))[e]={configurable:!0,enumerable:!0,get:function(){var t=new n;return delete o[e],o[e]=t,t}},i[t]={configurable:!0,enumerable:!0,get:function(){var n,i=o[e];return i&&(n=f(s,t).reduce(h,i.$get(o)),delete o[e],delete o[t]),n===r?n:function(t,n,e,i){var o={configurable:!0,enumerable:!0};return t.length?o.get=function(){var n=0,i=function(o){if(o)throw o;t[n]&&t[n++](e,i)};return i(),e}:(o.value=e,o.writable=!0),Object.defineProperty(i,n,o),i[n]}(f(a,t),t,n,o)}},Object.defineProperties(o,i),this},g=function(t,n){var e,i;return e=t.split("."),this.providerMap[t]&&1===e.length&&!this.container[t+"Provider"]?console.error(t+" provider already instantiated."):(this.originalProviders[t]=n,this.providerMap[t]=!0,i=e.shift(),e.length?(u.call(this,i).provider(e.join("."),n),this):p.call(this,i,n))},m=function(t,n){return g.call(this,t,(function(){this.$get=n}))},v=function(t,n,e){var i=arguments.length>3?l.call(arguments,3):[],o=this;return m.call(this,t,(function(){var t=n,r=i.map(d,o.container);return e?new(n.bind.apply(n,[null].concat(r))):t.apply(null,r)}))},b=function(t,n){Object.defineProperty(this,t,{configurable:!0,enumerable:!0,value:n,writable:!0})},w=function(t,n){var e=t[n];return e||b.call(t,n,e={}),e},y=function(t,n){Object.defineProperty(this,t,{configurable:!1,enumerable:!0,value:n,writable:!1})},$=function(t,n){var e,i;return"function"==typeof t&&(n=t,t="__global__"),i=(e=t.split(".")).shift(),e.length?u.call(this,i).decorator(e.join("."),n):(this.decorators[i]||(this.decorators[i]=[]),this.decorators[i].push(n)),this},x=function(t){return!/^\$(?:decorator|register|list)$|Provider$/.test(t)},_=function(t){return Object.keys(t||this.container||{}).filter(x)},k={},j=function(t){var n=t.$value===r?t:t.$value;return this[t.$type||"service"].apply(this,[t.$name,n].concat(t.$inject||[]))},S=function(t){delete this.providerMap[t],delete this.container[t],delete this.container[t+"Provider"]};(s=function t(n){if(!(this instanceof t))return t.pop(n);this.id=a++,this.decorators={},this.middlewares={},this.nested={},this.providerMap={},this.originalProviders={},this.deferred=[],this.container={$decorator:$.bind(this),$register:j.bind(this),$list:_.bind(this)}}).prototype={constant:function(t,n){var e=t.split(".");return t=e.pop(),y.call(e.reduce(w,this.container),t,n),this},decorator:$,defer:function(t){return this.deferred.push(t),this},digest:function(t){return(t||[]).map(d,this.container)},factory:m,instanceFactory:function(t,n){return m.call(this,t,(function(t){return{instance:n.bind(n,t)}}))},list:_,middleware:function(t,n){var e,i;return"function"==typeof t&&(n=t,t="__global__"),i=(e=t.split(".")).shift(),e.length?u.call(this,i).middleware(e.join("."),n):(this.middlewares[i]||(this.middlewares[i]=[]),this.middlewares[i].push(n)),this},provider:g,resetProviders:function(t){var n=this.originalProviders,e=Array.isArray(t);Object.keys(this.originalProviders).forEach((function(i){if(!e||-1!==t.indexOf(i)){var o=i.split(".");o.length>1&&o.forEach(S,u.call(this,o[0])),S.call(this,i),this.provider(i,n[i])}}),this)},register:j,resolve:function(t){return this.deferred.forEach((function(n){n(t)})),this},service:function(t,n){return v.apply(this,[t,n,!0].concat(l.call(arguments,2)))},serviceFactory:function(t,n){return v.apply(this,[t,n,!1].concat(l.call(arguments,2)))},value:function(t,n){var e;return e=t.split("."),t=e.pop(),b.call(e.reduce(w,this.container),t,n),this}},s.pop=function(t){var n;return"string"==typeof t?((n=k[t])||(k[t]=n=new s,n.constant("BOTTLE_NAME",t)),n):new s},s.clear=function(t){"string"==typeof t?delete k[t]:k={}},s.list=_,s.config={strict:!1};var A,C,E,T,P,H={function:!0,object:!0};A=H[typeof window]&&window||this,C=H[typeof n]&&n&&!n.nodeType&&n,E=H[typeof t]&&t&&!t.nodeType&&t,T=E&&E.exports===C&&C,!(P=H[typeof i]&&i)||P.global!==P&&P.window!==P||(A=P),"object"==typeof e(3)&&e(3)?(A.Bottle=s,(o=function(){return s}.call(n,e,n,t))===r||(t.exports=o)):C&&E?T?(E.exports=s).Bottle=s:C.Bottle=s:A.Bottle=s}).call(this)}).call(this,e(7)(t),e(8))},function(t,n){function e(t,n,e){var i,o,r,s,a;function l(){var c=Date.now()-s;c<n&&c>=0?i=setTimeout(l,n-c):(i=null,e||(a=t.apply(r,o),r=o=null))}null==n&&(n=100);var c=function(){r=this,o=arguments,s=Date.now();var c=e&&!i;return i||(i=setTimeout(l,n)),c&&(a=t.apply(r,o),r=o=null),a};return c.clear=function(){i&&(clearTimeout(i),i=null)},c.flush=function(){i&&(a=t.apply(r,o),r=o=null,clearTimeout(i),i=null)},c}e.debounce=e,t.exports=e},function(t,n,e){var i;!function(){function o(t,n,e){return t.call.apply(t.bind,arguments)}function r(t,n,e){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(e,i),t.apply(n,e)}}return function(){return t.apply(n,arguments)}}function s(t,n,e){return(s=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:r).apply(null,arguments)}var a=Date.now||function(){return+new Date};function l(t,n){this.a=t,this.o=n||t,this.c=this.o.document}var c=!!window.FontFace;function u(t,n,e,i){if(n=t.c.createElement(n),e)for(var o in e)e.hasOwnProperty(o)&&("style"==o?n.style.cssText=e[o]:n.setAttribute(o,e[o]));return i&&n.appendChild(t.c.createTextNode(i)),n}function d(t,n,e){(t=t.c.getElementsByTagName(n)[0])||(t=document.documentElement),t.insertBefore(e,t.lastChild)}function h(t){t.parentNode&&t.parentNode.removeChild(t)}function f(t,n,e){n=n||[],e=e||[];for(var i=t.className.split(/\s+/),o=0;o<n.length;o+=1){for(var r=!1,s=0;s<i.length;s+=1)if(n[o]===i[s]){r=!0;break}r||i.push(n[o])}for(n=[],o=0;o<i.length;o+=1){for(r=!1,s=0;s<e.length;s+=1)if(i[o]===e[s]){r=!0;break}r||n.push(i[o])}t.className=n.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function p(t,n){for(var e=t.className.split(/\s+/),i=0,o=e.length;i<o;i++)if(e[i]==n)return!0;return!1}function g(t,n,e){function i(){a&&o&&r&&(a(s),a=null)}n=u(t,"link",{rel:"stylesheet",href:n,media:"all"});var o=!1,r=!0,s=null,a=e||null;c?(n.onload=function(){o=!0,i()},n.onerror=function(){o=!0,s=Error("Stylesheet failed to load"),i()}):setTimeout((function(){o=!0,i()}),0),d(t,"head",n)}function m(t,n,e,i){var o=t.c.getElementsByTagName("head")[0];if(o){var r=u(t,"script",{src:n}),s=!1;return r.onload=r.onreadystatechange=function(){s||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(s=!0,e&&e(null),r.onload=r.onreadystatechange=null,"HEAD"==r.parentNode.tagName&&o.removeChild(r))},o.appendChild(r),setTimeout((function(){s||(s=!0,e&&e(Error("Script load timeout")))}),i||5e3),r}return null}function v(){this.a=0,this.c=null}function b(t){return t.a++,function(){t.a--,y(t)}}function w(t,n){t.c=n,y(t)}function y(t){0==t.a&&t.c&&(t.c(),t.c=null)}function $(t){this.a=t||"-"}function x(t,n){this.c=t,this.f=4,this.a="n";var e=(n||"n4").match(/^([nio])([1-9])$/i);e&&(this.a=e[1],this.f=parseInt(e[2],10))}function _(t){var n=[];t=t.split(/,\s*/);for(var e=0;e<t.length;e++){var i=t[e].replace(/['"]/g,"");-1!=i.indexOf(" ")||/^\d/.test(i)?n.push("'"+i+"'"):n.push(i)}return n.join(",")}function k(t){return t.a+t.f}function j(t){var n="normal";return"o"===t.a?n="oblique":"i"===t.a&&(n="italic"),n}function S(t){var n=4,e="n",i=null;return t&&((i=t.match(/(normal|oblique|italic)/i))&&i[1]&&(e=i[1].substr(0,1).toLowerCase()),(i=t.match(/([1-9]00|normal|bold)/i))&&i[1]&&(/bold/i.test(i[1])?n=7:/[1-9]00/.test(i[1])&&(n=parseInt(i[1].substr(0,1),10)))),e+n}function A(t,n){this.c=t,this.f=t.o.document.documentElement,this.h=n,this.a=new $("-"),this.j=!1!==n.events,this.g=!1!==n.classes}function C(t){if(t.g){var n=p(t.f,t.a.c("wf","active")),e=[],i=[t.a.c("wf","loading")];n||e.push(t.a.c("wf","inactive")),f(t.f,e,i)}E(t,"inactive")}function E(t,n,e){t.j&&t.h[n]&&(e?t.h[n](e.c,k(e)):t.h[n]())}function T(){this.c={}}function P(t,n){this.c=t,this.f=n,this.a=u(this.c,"span",{"aria-hidden":"true"},this.f)}function H(t){d(t.c,"body",t.a)}function M(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+_(t.c)+";font-style:"+j(t)+";font-weight:"+t.f+"00;"}function N(t,n,e,i,o,r){this.g=t,this.j=n,this.a=i,this.c=e,this.f=o||3e3,this.h=r||void 0}function z(t,n,e,i,o,r,s){this.v=t,this.B=n,this.c=e,this.a=i,this.s=s||"BESbswy",this.f={},this.w=o||3e3,this.u=r||null,this.m=this.j=this.h=this.g=null,this.g=new P(this.c,this.s),this.h=new P(this.c,this.s),this.j=new P(this.c,this.s),this.m=new P(this.c,this.s),t=M(t=new x(this.a.c+",serif",k(this.a))),this.g.a.style.cssText=t,t=M(t=new x(this.a.c+",sans-serif",k(this.a))),this.h.a.style.cssText=t,t=M(t=new x("serif",k(this.a))),this.j.a.style.cssText=t,t=M(t=new x("sans-serif",k(this.a))),this.m.a.style.cssText=t,H(this.g),H(this.h),H(this.j),H(this.m)}$.prototype.c=function(t){for(var n=[],e=0;e<arguments.length;e++)n.push(arguments[e].replace(/[\W_]+/g,"").toLowerCase());return n.join(this.a)},N.prototype.start=function(){var t=this.c.o.document,n=this,e=a(),i=new Promise((function(i,o){!function r(){a()-e>=n.f?o():t.fonts.load(function(t){return j(t)+" "+t.f+"00 300px "+_(t.c)}(n.a),n.h).then((function(t){1<=t.length?i():setTimeout(r,25)}),(function(){o()}))}()})),o=null,r=new Promise((function(t,e){o=setTimeout(e,n.f)}));Promise.race([r,i]).then((function(){o&&(clearTimeout(o),o=null),n.g(n.a)}),(function(){n.j(n.a)}))};var O={D:"serif",C:"sans-serif"},F=null;function R(){if(null===F){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);F=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))}return F}function D(t,n,e){for(var i in O)if(O.hasOwnProperty(i)&&n===t.f[O[i]]&&e===t.f[O[i]])return!0;return!1}function I(t){var n,e=t.g.a.offsetWidth,i=t.h.a.offsetWidth;(n=e===t.f.serif&&i===t.f["sans-serif"])||(n=R()&&D(t,e,i)),n?a()-t.A>=t.w?R()&&D(t,e,i)&&(null===t.u||t.u.hasOwnProperty(t.a.c))?V(t,t.v):V(t,t.B):function(t){setTimeout(s((function(){I(this)}),t),50)}(t):V(t,t.v)}function V(t,n){setTimeout(s((function(){h(this.g.a),h(this.h.a),h(this.j.a),h(this.m.a),n(this.a)}),t),0)}function L(t,n,e){this.c=t,this.a=n,this.f=0,this.m=this.j=!1,this.s=e}z.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=a(),I(this)};var W=null;function q(t){0==--t.f&&t.j&&(t.m?((t=t.a).g&&f(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),E(t,"active")):C(t.a))}function B(t){this.j=t,this.a=new T,this.h=0,this.f=this.g=!0}function U(t,n,e,i,o){var r=0==--t.h;(t.f||t.g)&&setTimeout((function(){var t=o||null,a=i||{};if(0===e.length&&r)C(n.a);else{n.f+=e.length,r&&(n.j=r);var l,c=[];for(l=0;l<e.length;l++){var u=e[l],d=a[u.c],h=n.a,p=u;if(h.g&&f(h.f,[h.a.c("wf",p.c,k(p).toString(),"loading")]),E(h,"fontloading",p),h=null,null===W)if(window.FontFace){p=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent);var g=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);W=p?42<parseInt(p[1],10):!g}else W=!1;h=W?new N(s(n.g,n),s(n.h,n),n.c,u,n.s,d):new z(s(n.g,n),s(n.h,n),n.c,u,n.s,t,d),c.push(h)}for(l=0;l<c.length;l++)c[l].start()}}),0)}function G(t,n){this.c=t,this.a=n}function X(t,n){this.c=t,this.a=n}function J(t,n){this.c=t||K,this.a=[],this.f=[],this.g=n||""}L.prototype.g=function(t){var n=this.a;n.g&&f(n.f,[n.a.c("wf",t.c,k(t).toString(),"active")],[n.a.c("wf",t.c,k(t).toString(),"loading"),n.a.c("wf",t.c,k(t).toString(),"inactive")]),E(n,"fontactive",t),this.m=!0,q(this)},L.prototype.h=function(t){var n=this.a;if(n.g){var e=p(n.f,n.a.c("wf",t.c,k(t).toString(),"active")),i=[],o=[n.a.c("wf",t.c,k(t).toString(),"loading")];e||i.push(n.a.c("wf",t.c,k(t).toString(),"inactive")),f(n.f,i,o)}E(n,"fontinactive",t),q(this)},B.prototype.load=function(t){this.c=new l(this.j,t.context||this.j),this.g=!1!==t.events,this.f=!1!==t.classes,function(t,n,e){var i=[],o=e.timeout;!function(t){t.g&&f(t.f,[t.a.c("wf","loading")]),E(t,"loading")}(n);i=function(t,n,e){var i,o=[];for(i in n)if(n.hasOwnProperty(i)){var r=t.c[i];r&&o.push(r(n[i],e))}return o}(t.a,e,t.c);var r=new L(t.c,n,o);for(t.h=i.length,n=0,e=i.length;n<e;n++)i[n].load((function(n,e,i){U(t,r,n,e,i)}))}(this,new A(this.c,t),t)},G.prototype.load=function(t){var n=this,e=n.a.projectId,i=n.a.version;if(e){var o=n.c.o;m(this.c,(n.a.api||"https://fast.fonts.net/jsapi")+"/"+e+".js"+(i?"?v="+i:""),(function(i){i?t([]):(o["__MonotypeConfiguration__"+e]=function(){return n.a},function n(){if(o["__mti_fntLst"+e]){var i,r=o["__mti_fntLst"+e](),s=[];if(r)for(var a=0;a<r.length;a++){var l=r[a].fontfamily;null!=r[a].fontStyle&&null!=r[a].fontWeight?(i=r[a].fontStyle+r[a].fontWeight,s.push(new x(l,i))):s.push(new x(l))}t(s)}else setTimeout((function(){n()}),50)}())})).id="__MonotypeAPIScript__"+e}else t([])},X.prototype.load=function(t){var n,e,i=this.a.urls||[],o=this.a.families||[],r=this.a.testStrings||{},s=new v;for(n=0,e=i.length;n<e;n++)g(this.c,i[n],b(s));var a=[];for(n=0,e=o.length;n<e;n++)if((i=o[n].split(":"))[1])for(var l=i[1].split(","),c=0;c<l.length;c+=1)a.push(new x(i[0],l[c]));else a.push(new x(i[0]));w(s,(function(){t(a,r)}))};var K="https://fonts.googleapis.com/css";function Q(t){this.f=t,this.a=[],this.c={}}var Y={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},Z={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},tt={i:"i",italic:"i",n:"n",normal:"n"},nt=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function et(t,n){this.c=t,this.a=n}var it={Arimo:!0,Cousine:!0,Tinos:!0};function ot(t,n){this.c=t,this.a=n}function rt(t,n){this.c=t,this.f=n,this.a=[]}et.prototype.load=function(t){var n=new v,e=this.c,i=new J(this.a.api,this.a.text),o=this.a.families;!function(t,n){for(var e=n.length,i=0;i<e;i++){var o=n[i].split(":");3==o.length&&t.f.push(o.pop());var r="";2==o.length&&""!=o[1]&&(r=":"),t.a.push(o.join(r))}}(i,o);var r=new Q(o);!function(t){for(var n=t.f.length,e=0;e<n;e++){var i=t.f[e].split(":"),o=i[0].replace(/\+/g," "),r=["n4"];if(2<=i.length){var s;if(s=[],a=i[1])for(var a,l=(a=a.split(",")).length,c=0;c<l;c++){var u;if((u=a[c]).match(/^[\w-]+$/))if(null==(h=nt.exec(u.toLowerCase())))u="";else{if(u=null==(u=h[2])||""==u?"n":tt[u],null==(h=h[1])||""==h)h="4";else var d=Z[h],h=d||(isNaN(h)?"4":h.substr(0,1));u=[u,h].join("")}else u="";u&&s.push(u)}0<s.length&&(r=s),3==i.length&&(s=[],0<(i=(i=i[2])?i.split(","):s).length&&(i=Y[i[0]])&&(t.c[o]=i))}for(t.c[o]||(i=Y[o])&&(t.c[o]=i),i=0;i<r.length;i+=1)t.a.push(new x(o,r[i]))}}(r),g(e,function(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var n=t.a.length,e=[],i=0;i<n;i++)e.push(t.a[i].replace(/ /g,"+"));return n=t.c+"?family="+e.join("%7C"),0<t.f.length&&(n+="&subset="+t.f.join(",")),0<t.g.length&&(n+="&text="+encodeURIComponent(t.g)),n}(i),b(n)),w(n,(function(){t(r.a,r.c,it)}))},ot.prototype.load=function(t){var n=this.a.id,e=this.c.o;n?m(this.c,(this.a.api||"https://use.typekit.net")+"/"+n+".js",(function(n){if(n)t([]);else if(e.Typekit&&e.Typekit.config&&e.Typekit.config.fn){n=e.Typekit.config.fn;for(var i=[],o=0;o<n.length;o+=2)for(var r=n[o],s=n[o+1],a=0;a<s.length;a++)i.push(new x(r,s[a]));try{e.Typekit.load({events:!1,classes:!1,async:!0})}catch(t){}t(i)}}),2e3):t([])},rt.prototype.load=function(t){var n=this.f.id,e=this.c.o,i=this;n?(e.__webfontfontdeckmodule__||(e.__webfontfontdeckmodule__={}),e.__webfontfontdeckmodule__[n]=function(n,e){for(var o=0,r=e.fonts.length;o<r;++o){var s=e.fonts[o];i.a.push(new x(s.name,S("font-weight:"+s.weight+";font-style:"+s.style)))}t(i.a)},m(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+function(t){return t.o.location.hostname||t.a.location.hostname}(this.c)+"/"+n+".js",(function(n){n&&t([])}))):t([])};var st=new B(window);st.a.c.custom=function(t,n){return new X(n,t)},st.a.c.fontdeck=function(t,n){return new rt(n,t)},st.a.c.monotype=function(t,n){return new G(n,t)},st.a.c.typekit=function(t,n){return new ot(n,t)},st.a.c.google=function(t,n){return new et(n,t)};var at={load:s(st.load,st)};void 0===(i=function(){return at}.call(n,e,n,t))||(t.exports=i)}()},function(t,n){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,n){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,n,e){"use strict";e.r(n);var i=e(4),o=e.n(i);const r=window.require("core/models/content"),s=new o.a;s.constant("ContentModel",r);var a=s.container,l=e(0),c=e.n(l),u=t=>JSON.parse(JSON.stringify(t));var d=class{constructor(t,n){this._onUpdate=this._onUpdate.bind(this),this.updates=new c.a,this.meta=t,this.attributes={};for(const n in t.tabs){const e=t.tabs[n];for(const t in e)this.attributes[t]=e[t]}this.set(n)}get(){return this.skin}set(t){this.unbind&&this.unbind(),this.unbind=()=>t.unbind("update",this._onUpdate),t.bind("update",this._onUpdate),this._onUpdate(t)}_onUpdate(t,{attribute:n,used:e}={}){if(this.switched=!n,!e){n&&(this.lastModifiedAttribute=this.attributes[n],this.lastModifiedAttribute.name=n),this.skin=u(t);for(const t in this.attributes)void 0===this.skin[t]&&null!=this.attributes[t].options.default&&(this.skin[t]=this.attributes[t].options.default);this.updates.broadcast(this.skin)}}},h=e(5),f=e.n(h);const p=["instagramapi"],g=t=>t.metadata&&p.indexOf(t.metadata.service)>=0&&!(t=>"instagramapi"===t.metadata.service&&"image"===t.metadata.type)(t);var m=class{constructor(t,n,e,i){this.refresh=this.refresh.bind(this),this._mapDeclarative=this._mapDeclarative.bind(this),this.updates=new c.a,this.loading=new c.a,this.loaded=new c.a,this.error=new c.a,this.meta=t,this.mainAttribute=this.meta.options.mainAttribute,this.sources=n,this.declarativeMap=e,this.mappedAttributes=[];for(let t in this.declarativeMap)this.mappedAttributes.push(this.declarativeMap[t]);this.content=[],this.dynamicContent=[],this.ContentModel=i,this.ContentModel.bind("change",f()(this.refresh,0)),this.refresh()}get(){return this.content}refresh(){this.staticContent=this.ContentModel.all().filter(t=>!g(t)).map(this._mapDeclarative).filter(t=>!!t[this.mainAttribute]).map(t=>u(t)),this._refresh(),this.dynamicSources=this.ContentModel.all().filter(t=>g(t)).filter(t=>{const n=t.metadata.service,e=!!this.sources[n];return e||console.error(new Error("No source configured for "+n)),e}).map(t=>new this.sources[t.metadata.service].class(t)),this.load(this._lastLoad)}_refresh(){this.content=this.staticContent.concat(this.dynamicContent),this.updates.broadcast(this.content)}load(t){return t?(this.dynamicContent=[],this._lastLoad=t,this.loading.broadcast(),new Promise((n,e)=>{this._cancel&&this._cancel(),this._cancel=()=>e(new Error("Canceled")),Promise.all(this.dynamicSources.map(n=>n.load(t).catch(t=>t))).then(n,e)}).then(n=>{this.loaded.broadcast();const e=n.reduce((t,n)=>n instanceof Error?("Canceled"!==n.message&&this.error.broadcast(n),t):(n.staleError&&this.error.broadcast(n.staleError),t.concat(n.media)),[]);this.dynamicContent=this.dynamicContent.concat(e).sort((t,n)=>parseInt(n.created_time)-parseInt(t.created_time)).slice(0,t),this._refresh()}).catch(t=>{"Canceled"!==t.message&&console.error(t)})):Promise.resolve()}metadata(t,n,e){return this.ContentModel.find(t)._metadata(n,e)}_mapDeclarative(t){if(!t.metadata||"declarative"!==t.metadata.service)return t;for(let n in t.metadata)"service"!==n&&(this.mappedAttributes.includes(n)||(t[n.replace("data-","")]=t.metadata[n]));for(let n in this.declarativeMap)t[n]||(t[n]=t.metadata[this.declarativeMap[n]]);return t}},v=e(1),b=e.n(v),w=(t,n)=>e=>{try{e=JSON.parse(e),t(e)}catch(t){n(t)}};var y=class{constructor(t){this.metadata=t,this.compositionId=this.metadata.composition.id,this.apiHost=this.metadata.mode===Widgetic.UI.Composition.EDIT_MODE?"http://127.0.0.1:8082":"https://widgetic.com",this.apiPath=this.apiHost+"/api/v2/compositions/"+this.compositionId+"/data/",this.headers={"Content-type":"application/json","X-wdgtc-Version":this.metadata.widget.version,"X-wdgtc-Widget":this.metadata.widget.id}}readAllData(){return new Promise((t,n)=>{this.compositionId?b()(this.apiPath+"?t="+(new Date).getTime(),null,{method:"GET",headers:this.headers,complete:w(t,n)}):n(new Error("composition id is missing"))})}readAllDataWithProperty(t,n){return new Promise((e,i)=>{this.compositionId||i(new Error("CompositionId id is missing")),b()(this.apiPath+"?key="+t+"&value="+n,null,{method:"GET",headers:this.headers,complete:w(e,i)})})}readDataWithId(t){return new Promise((n,e)=>{t||e(new Error("Data id is missing")),b()(this.apiPath+t,null,{method:"GET",headers:this.headers,complete:w(n,e)})})}saveData(t){return new Promise((n,e)=>{this.compositionId?b()(this.apiPath,JSON.stringify(t),{method:"POST",headers:this.headers,complete:w(n,e)}):e(new Error("composition id is missing"))})}updateDataWithId(t,n){return new Promise((e,i)=>{t||i(new Error("data id is missing")),n||i(new Error("data is missing")),b()(this.apiPath+t,JSON.stringify(n),{method:"PUT",headers:this.headers,complete:w(e,i)})})}deleteDataWithId(t){return new Promise((n,e)=>{t||e(new Error("fact id is missing")),b()(this.apiPath+t,null,{method:"DELETE",headers:this.headers,complete:w(n,e)})})}deleteDataWithProperty(t,n){return new Promise((e,i)=>{this.compositionId||i(new Error("Composition id is missing")),b()(this.apiPath+"?key="+t+"&value="+n,null,{method:"DELETE",headers:this.headers,complete:w(e,i)})})}},$=e(6),x=e.n($);const _={display:'Copperplate,"Copperplate Gothic Light",fantasy',handwriting:'"Brush Script MT",cursive',monospace:"Consolas,monaco,monospace","sans-serif":'"Helvetica Neue",Helvetica,Arial,sans-serif',serif:"Georgia, Garamond, serif"};function k(t,n){const{config:e}=t;e&&"local"!==e.source&&x.a.load({[e.source]:{families:[e.family+":"+e.style]},timeout:600,context:n})}function j(t,n){t.forEach(t=>k(t,n))}class S{constructor(t,n={}){this.skinStore=t,this.selectorMap=n,this.updates=new c.a,this.attributes=[],this._parseMeta(),this.contexts=[window],this.skinStore.updates.listen(this._onSkinUpdate.bind(this)),this._onSkinUpdate(this.skinStore.get())}addContext(t){this.contexts.push(t),j(this._getFonts(),t)}removeContext(t){const n=this.contexts.indexOf(t);n>-1&&this.contexts.splice(n,1)}_parseMeta(){const t=Object.values(this.skinStore.meta.tabs).reduce((t,n)=>Object.assign(t,n),{});for(let n in t)"core/controls/font"===t[n].control&&this.attributes.push({name:n,meta:t[n].options})}_getFonts(){return this.attributes.map(t=>({attr:t,selector:this.selectorMap[t.name]||"."+t.name,config:this.skin[t.name]}))}_onSkinUpdate(t){if(!this.skinStore.lastModifiedAttribute||this.skinStore.lastModifiedAttribute&&"core/controls/font"==this.skinStore.lastModifiedAttribute.control){this.skin=t;const n=this._getFonts();this.contexts.forEach(t=>{this.skinStore.lastModifiedAttribute?n.forEach(n=>{n.attr.name==this.skinStore.lastModifiedAttribute.name&&k(n,t)}):j(n,t)}),this.css=n.reduce((t,n)=>t+function({attr:t,selector:n,config:e}){if(!e)return"";const{weight:i,style:o}=function(t){var n=t.indexOf("italic")>=0;return n&&(t=t.replace("italic","")),"regular"!==t&&""!==t||(t="normal"),{weight:t,style:n?"italic":"normal"}}(e.style),r=`\n  ${n} {\n    font-family: ${e.family},${_[e.category]};\n    font-size: ${e.size}${t.meta.unit||"px"};\n    font-weight: ${i};\n    font-style: ${o};\n  }\n  `;return"google"===e.source?r+`.wf-loading ${n} { visibility: hidden; }\n       .wf-active ${n}, .wf-inactive ${n} { visibility: visible; }`:r}(n),""),this.updates.broadcast(this.css)}}}function A(t,n=window.parent){"string"==typeof n&&(n=window.frames[n]),n&&n.postMessage(JSON.stringify(t),"*")}var C=class{constructor(t){this.onResize=this.onResize.bind(this),this.autoscale=t,this.width=window.innerWidth,this.ratio=null,window.addEventListener("resize",this.onResize)}setRatio(t){this.ratio=t,this.setHeight(1*this.width/t)}setHeight(t){this.autoscale&&(A({t:"su",id:window.name,d:{height:t}}),A({src:window.location.toString(),context:"iframe.resize",height:t}))}onResize(t){this.width=window.innerWidth,this.ratio&&this.setRatio(this.ratio)}};var E=class{constructor(t){this.onResize=this.onResize.bind(this),this.adaptive=t,this.updates=new c.a,window.addEventListener("resize",this.onResize),this.onResize()}onResize(){const t=window.innerWidth<=this.adaptive;t!==this.isOnAdaptive&&this.updates.broadcast(t),this.isOnAdaptive=t}};var T=class{constructor(){}dispatch(t,n){document.dispatchEvent(new CustomEvent(t,{detail:n}))}startPlaying(){A({t:"startPlaying",id:window.name})}};const P=function(t,n){const e=n.map(t=>t.id);return t.filter(t=>!e.includes(t.id))};var H=class{constructor({metadata:t},n,e){this.metadata=t,this.content=e,s.constant("metadata",t),s.constant("skinMeta",t.widget.skinMeta),s.constant("initialSkin",n),s.constant("contentMeta",t.widget.contentMeta),s.service("Skin",d,"skinMeta","initialSkin"),s.service("Content",m,"contentMeta","contentSources","declarativeMap","ContentModel"),s.service("Data",y,"metadata"),s.service("Fonts",S,"Skin"),s.service("Autoscale",C,"autoscale"),s.service("Adaptive",E,"adaptive"),s.service("Events",T),s.constant("editMode",t.mode===Widgetic.UI.Composition.EDIT_MODE),s.constant("autoscale",t.embedOptions.autoscale&&"off"!==t.embedOptions.autoscale),s.constant("adaptive",parseInt(t.embedOptions.adaptive,10)||0),a.Skin.updates.listen(this._onUpdate.bind(this,"skin")),a.Content.updates.listen(this._onUpdate.bind(this,"content"))}getComponent(){throw new Error("Must extend and implement")}resize(){}clearContent(){if(this.widget&&this.widget.clearContent)return this.widget.clearContent()}addContent(t){if(this.widget&&this.widget.addContent)return this.widget.addContent(t)}removeContent(t){if(this.widget&&this.widget.removeContent)return this.widget.removeContent(t)}on(t,n){return document.addEventListener(t,n)}added(){this.el=document.querySelector(".widget-container"),this.el.setAttribute("widget","widget-base-template"),this.el.setAttribute("version","0.0.2"),this.widget=new(this.getComponent())({target:this.el,props:{skin:a.Skin.get(),content:a.Content.get()}});let t=[];this.getPublicMethods().forEach(n=>{this.widget[n]&&t.push(this.widget[n].toString())}),window.parent.postMessage(JSON.stringify({t:"widgetPublicMethodsAndEvents",id:window.name,d:{compositionId:this.metadata.composition.id,publicMethods:t,publicEvents:this.getPublicEvents()}}),"*")}setSkin(t){a.Skin.set(t)}_onUpdate(t,n){if("content"==t){const t=P(this.content,n);1==t.length&&this.removeContent(t[0]),this.content=n}this.widget.$set({[t]:n})}};function M(){}const N=t=>t;function z(t){return t()}function O(){return Object.create(null)}function F(t){t.forEach(z)}function R(t){return"function"==typeof t}function D(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function I(t){return 0===Object.keys(t).length}const V="undefined"!=typeof window;let L=V?()=>window.performance.now():()=>Date.now(),W=V?t=>requestAnimationFrame(t):M;const q=new Set;function B(t){q.forEach(n=>{n.c(t)||(q.delete(n),n.f())}),0!==q.size&&W(B)}function U(t){let n;return 0===q.size&&W(B),{promise:new Promise(e=>{q.add(n={c:t,f:e})}),abort(){q.delete(n)}}}function G(t,n){t.appendChild(n)}function X(t,n,e){t.insertBefore(n,e||null)}function J(t){t.parentNode.removeChild(t)}function K(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function Q(t){return document.createElement(t)}function Y(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Z(t){return document.createTextNode(t)}function tt(){return Z(" ")}function nt(){return Z("")}function et(t,n,e,i){return t.addEventListener(n,e,i),()=>t.removeEventListener(n,e,i)}function it(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function ot(t,n,e){t.setAttributeNS("http://www.w3.org/1999/xlink",n,e)}function rt(t,n,e,i){t.style.setProperty(n,e,i?"important":"")}function st(t,n){const e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}const at=new Set;let lt,ct=0;function ut(t,n,e,i,o,r,s,a=0){const l=16.666/i;let c="{\n";for(let t=0;t<=1;t+=l){const i=n+(e-n)*r(t);c+=100*t+`%{${s(i,1-i)}}\n`}const u=c+`100% {${s(e,1-e)}}\n}`,d=`__svelte_${function(t){let n=5381,e=t.length;for(;e--;)n=(n<<5)-n^t.charCodeAt(e);return n>>>0}(u)}_${a}`,h=t.ownerDocument;at.add(h);const f=h.__svelte_stylesheet||(h.__svelte_stylesheet=h.head.appendChild(Q("style")).sheet),p=h.__svelte_rules||(h.__svelte_rules={});p[d]||(p[d]=!0,f.insertRule(`@keyframes ${d} ${u}`,f.cssRules.length));const g=t.style.animation||"";return t.style.animation=`${g?`${g}, `:""}${d} ${i}ms linear ${o}ms 1 both`,ct+=1,d}function dt(t,n){const e=(t.style.animation||"").split(", "),i=e.filter(n?t=>t.indexOf(n)<0:t=>-1===t.indexOf("__svelte")),o=e.length-i.length;o&&(t.style.animation=i.join(", "),ct-=o,ct||W(()=>{ct||(at.forEach(t=>{const n=t.__svelte_stylesheet;let e=n.cssRules.length;for(;e--;)n.deleteRule(e);t.__svelte_rules={}}),at.clear())}))}function ht(t){lt=t}function ft(){if(!lt)throw new Error("Function called outside component initialization");return lt}function pt(t){ft().$$.on_mount.push(t)}function gt(){const t=ft();return(n,e)=>{const i=t.$$.callbacks[n];if(i){const o=st(n,e);i.slice().forEach(n=>{n.call(t,o)})}}}const mt=[],vt=[],bt=[],wt=[],yt=Promise.resolve();let $t=!1;function xt(){$t||($t=!0,yt.then(At))}function _t(t){bt.push(t)}function kt(t){wt.push(t)}let jt=!1;const St=new Set;function At(){if(!jt){jt=!0;do{for(let t=0;t<mt.length;t+=1){const n=mt[t];ht(n),Ct(n.$$)}for(ht(null),mt.length=0;vt.length;)vt.pop()();for(let t=0;t<bt.length;t+=1){const n=bt[t];St.has(n)||(St.add(n),n())}bt.length=0}while(mt.length);for(;wt.length;)wt.pop()();$t=!1,jt=!1,St.clear()}}function Ct(t){if(null!==t.fragment){t.update(),F(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(_t)}}let Et;function Tt(){return Et||(Et=Promise.resolve(),Et.then(()=>{Et=null})),Et}function Pt(t,n,e){t.dispatchEvent(st(`${n?"intro":"outro"}${e}`))}const Ht=new Set;let Mt;function Nt(){Mt={r:0,c:[],p:Mt}}function zt(){Mt.r||F(Mt.c),Mt=Mt.p}function Ot(t,n){t&&t.i&&(Ht.delete(t),t.i(n))}function Ft(t,n,e,i){if(t&&t.o){if(Ht.has(t))return;Ht.add(t),Mt.c.push(()=>{Ht.delete(t),i&&(e&&t.d(1),i())}),t.o(n)}}const Rt={duration:0};function Dt(t,n,e,i){let o=n(t,e),r=i?0:1,s=null,a=null,l=null;function c(){l&&dt(t,l)}function u(t,n){const e=t.b-r;return n*=Math.abs(e),{a:r,b:t.b,d:e,duration:n,start:t.start,end:t.start+n,group:t.group}}function d(n){const{delay:e=0,duration:i=300,easing:d=N,tick:h=M,css:f}=o||Rt,p={start:L()+e,b:n};n||(p.group=Mt,Mt.r+=1),s?a=p:(f&&(c(),l=ut(t,r,n,i,e,d,f)),n&&h(0,1),s=u(p,i),_t(()=>Pt(t,n,"start")),U(n=>{if(a&&n>a.start&&(s=u(a,i),a=null,Pt(t,s.b,"start"),f&&(c(),l=ut(t,r,s.b,s.duration,0,d,o.css))),s)if(n>=s.end)h(r=s.b,1-r),Pt(t,s.b,"end"),a||(s.b?c():--s.group.r||F(s.group.c)),s=null;else if(n>=s.start){const t=n-s.start;r=s.a+s.d*d(t/s.duration),h(r,1-r)}return!(!s&&!a)}))}return{run(t){R(o)?Tt().then(()=>{o=o(),d(t)}):d(t)},end(){c(),s=a=null}}}"undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]);let It;function Vt(t,n,e){const i=t.$$.props[n];void 0!==i&&(t.$$.bound[i]=e,e(t.$$.ctx[i]))}function Lt(t){t&&t.c()}function Wt(t,n,e){const{fragment:i,on_mount:o,on_destroy:r,after_update:s}=t.$$;i&&i.m(n,e),_t(()=>{const n=o.map(z).filter(R);r?r.push(...n):F(n),t.$$.on_mount=[]}),s.forEach(_t)}function qt(t,n){const e=t.$$;null!==e.fragment&&(F(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function Bt(t,n,e,i,o,r,s=[-1]){const a=lt;ht(t);const l=n.props||{},c=t.$$={fragment:null,ctx:null,props:r,update:M,not_equal:o,bound:O(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:[]),callbacks:O(),dirty:s,skip_bound:!1};let u=!1;if(c.ctx=e?e(t,l,(n,e,...i)=>{const r=i.length?i[0]:e;return c.ctx&&o(c.ctx[n],c.ctx[n]=r)&&(!c.skip_bound&&c.bound[n]&&c.bound[n](r),u&&function(t,n){-1===t.$$.dirty[0]&&(mt.push(t),xt(),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}(t,n)),e}):[],c.update(),u=!0,F(c.before_update),c.fragment=!!i&&i(c.ctx),n.target){if(n.hydrate){const t=(d=n.target,Array.from(d.childNodes));c.fragment&&c.fragment.l(t),t.forEach(J)}else c.fragment&&c.fragment.c();n.intro&&Ot(t.$$.fragment),Wt(t,n.target,n.anchor),At()}var d;ht(a)}"function"==typeof HTMLElement&&(It=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(t,n,e){this[t]=e}$destroy(){qt(this,1),this.$destroy=M}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){this.$$set&&!I(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});class Ut{$destroy(){qt(this,1),this.$destroy=M}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){this.$$set&&!I(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Gt(t){let n,e;return{c(){n=Q("div"),e=Q("style"),rt(n,"display","none")},m(i,o){X(i,n,o),G(n,e),t[2](e)},p:M,i:M,o:M,d(e){e&&J(n),t[2](null)}}}function Xt(t,n,e){let{css:i}=n,{style:o}=n;var r;return r=()=>{i&&o&&e(0,o.innerText=i,o)},ft().$$.after_update.push(r),t.$$set=t=>{"css"in t&&e(1,i=t.css),"style"in t&&e(0,o=t.style)},[o,i,function(t){vt[t?"unshift":"push"](()=>{o=t,e(0,o)})}]}var Jt=class extends Ut{constructor(t){super(),Bt(this,t,Xt,Gt,D,{css:1,style:0})}};var Kt=function(t,n){var e=n.delay;void 0===e&&(e=0);var i=n.duration;void 0===i&&(i=400);var o=+getComputedStyle(t).opacity;return{delay:e,duration:i,css:function(t){return"opacity: "+t*o}}};var Qt=e(2),Yt=e.n(Qt);function Zt(t){let n,e,i,o,r,s,a,l,c,u;return{c(){n=Q("div"),e=Q("style"),e.textContent=".loading_icon {\n      position:absolute;\n      width:100%;\n      max-width:90px;\n      height: 14px;\n      top:50%;\n      left:50%;\n      transform:translate(-50%,-50%);\n      text-align:center;\n    }\n\n    .loading_icon >i {\n      opacity:.5;\n      border-radius:50%;\n      display:inline-block;\n      width:10%;\n      padding-top:10%;\n      margin:3%;\n      transform:scale(.8,.8);\n      animation:loading_dots .8s linear infinite;\n    }\n    .loading_icon >i:nth-child(even){\n      animation-delay:.4s\n    }\n    @keyframes loading_dots {\n      0%,100%{opacity:.5;transform:scale(.8,.8)}\n      50%{opacity:1;transform:scale(1,1)}\n    }",i=tt(),o=Q("i"),r=tt(),s=Q("i"),a=tt(),l=Q("i"),rt(o,"background-color",t[1]),rt(s,"background-color",t[1]),rt(l,"background-color",t[1]),it(n,"class","loading_icon")},m(t,c){X(t,n,c),G(n,e),G(n,i),G(n,o),G(n,r),G(n,s),G(n,a),G(n,l),u=!0},p(t,n){(!u||2&n)&&rt(o,"background-color",t[1]),(!u||2&n)&&rt(s,"background-color",t[1]),(!u||2&n)&&rt(l,"background-color",t[1])},i(t){u||(_t(()=>{c||(c=Dt(n,Kt,{},!0)),c.run(1)}),u=!0)},o(t){c||(c=Dt(n,Kt,{},!1)),c.run(0),u=!1},d(t){t&&J(n),t&&c&&c.end()}}}function tn(t){let n,e,i=t[0]&&Zt(t);return{c(){i&&i.c(),n=nt()},m(t,o){i&&i.m(t,o),X(t,n,o),e=!0},p(t,[e]){t[0]?i?(i.p(t,e),1&e&&Ot(i,1)):(i=Zt(t),i.c(),Ot(i,1),i.m(n.parentNode,n)):i&&(Nt(),Ft(i,1,1,()=>{i=null}),zt())},i(t){e||(Ot(i),e=!0)},o(t){Ft(i),e=!1},d(t){i&&i.d(t),t&&J(n)}}}function nn(t,n,e){let i,{visible:o=!1}=n,{color:r="#fff"}=n;return t.$$set=t=>{"visible"in t&&e(0,o=t.visible),"color"in t&&e(2,r=t.color)},t.$$.update=()=>{4&t.$$.dirty&&e(1,i=Yt.a.mostReadable(r,["#000","#fff"]).setAlpha(.5).toRgbString())},[o,i,r]}var en=class extends Ut{constructor(t){super(),Bt(this,t,nn,tn,D,{visible:0,color:2})}};function on(t){let n,e;return{c(){n=Q("img"),it(n,"class","emoji-icon"),it(n,"alt",""),n.src!==(e=t[1].emojiIcon)&&it(n,"src",e)},m(t,e){X(t,n,e)},p(t,i){2&i&&n.src!==(e=t[1].emojiIcon)&&it(n,"src",e)},d(t){t&&J(n)}}}function rn(t){let n,e,i,o,r,s,a,l,c,u,d,h,f,p,g=(t[1].buttonText||"")+"",m=t[1].emojiIcon&&on(t);return{c(){n=Q("div"),e=Q("div"),i=tt(),m&&m.c(),o=tt(),r=Q("div"),s=Q("div"),a=tt(),l=Q("div"),c=Z(t[4]),u=Z("%"),d=tt(),h=Q("div"),it(e,"class","emoji-level"),rt(e,"opacity",t[3]?1:0),rt(e,"top",("adaptive"==t[2]?0:100-t[4])+"%"),rt(e,"width",("adaptive"==t[2]?t[4]:100)+"%"),rt(e,"height",("adaptive"!=t[2]?t[4]:100)+"%"),rt(e,"background-color",t[0].itemStrokeColor),it(s,"class","emoji-text"),rt(s,"display",t[1].buttonText&&t[0].displayLabel?"block":"none"),it(l,"class","emoji-percent"),rt(l,"opacity",t[3]?1:0),it(r,"class","emoji-text-ct"),rt(r,"display",t[1].buttonText||t[1].noVotes?"block":"none"),it(h,"class","emoji-stroke"),it(n,"class","emoji-item"),rt(n,"justify-content",t[1].buttonText&&t[1].emojiIcon?"flex-start":"center"),rt(n,"pointer-events",t[3]?"none":"auto")},m(v,b){X(v,n,b),G(n,e),G(n,i),m&&m.m(n,null),G(n,o),G(n,r),G(r,s),s.innerHTML=g,G(r,a),G(r,l),G(l,c),G(l,u),G(n,d),G(n,h),f||(p=et(n,"click",t[7]),f=!0)},p(t,[i]){var a,u;8&i&&rt(e,"opacity",t[3]?1:0),20&i&&rt(e,"top",("adaptive"==t[2]?0:100-t[4])+"%"),20&i&&rt(e,"width",("adaptive"==t[2]?t[4]:100)+"%"),20&i&&rt(e,"height",("adaptive"!=t[2]?t[4]:100)+"%"),1&i&&rt(e,"background-color",t[0].itemStrokeColor),t[1].emojiIcon?m?m.p(t,i):(m=on(t),m.c(),m.m(n,o)):m&&(m.d(1),m=null),2&i&&g!==(g=(t[1].buttonText||"")+"")&&(s.innerHTML=g),3&i&&rt(s,"display",t[1].buttonText&&t[0].displayLabel?"block":"none"),16&i&&(a=c,u=""+(u=t[4]),a.wholeText!==u&&(a.data=u)),8&i&&rt(l,"opacity",t[3]?1:0),2&i&&rt(r,"display",t[1].buttonText||t[1].noVotes?"block":"none"),2&i&&rt(n,"justify-content",t[1].buttonText&&t[1].emojiIcon?"flex-start":"center"),8&i&&rt(n,"pointer-events",t[3]?"none":"auto")},i:M,o:M,d(t){t&&J(n),m&&m.d(),f=!1,p()}}}function sn(t,n,e){const i=gt();let{skin:o}=n,{item:r}=n,{layout:s}=n,{disabled:a}=n,{totalVotersNo:l}=n;let c;return t.$$set=t=>{"skin"in t&&e(0,o=t.skin),"item"in t&&e(1,r=t.item),"layout"in t&&e(2,s=t.layout),"disabled"in t&&e(3,a=t.disabled),"totalVotersNo"in t&&e(6,l=t.totalVotersNo)},t.$$.update=()=>{66&t.$$.dirty&&e(4,c=r.noVotes&&l?Math.round(100*r.noVotes/l):0)},[o,r,s,a,c,i,l,t=>i("click",r)]}var an=class extends Ut{constructor(t){super(),Bt(this,t,sn,rn,D,{skin:0,item:1,layout:2,disabled:3,totalVotersNo:6})}};function ln(t,n,e){const i=t.slice();return i[19]=n[e],i}function cn(t){let n,e,i,o;function r(n){t[12].call(null,n)}function s(n){t[13].call(null,n)}let a={item:t[19],skin:t[5],layout:t[7]};return void 0!==t[2]&&(a.disabled=t[2]),void 0!==t[3]&&(a.totalVotersNo=t[3]),n=new an({props:a}),vt.push(()=>Vt(n,"disabled",r)),vt.push(()=>Vt(n,"totalVotersNo",s)),n.$on("click",t[14]),{c(){Lt(n.$$.fragment)},m(t,e){Wt(n,t,e),o=!0},p(t,o){const r={};64&o&&(r.item=t[19]),32&o&&(r.skin=t[5]),128&o&&(r.layout=t[7]),!e&&4&o&&(e=!0,r.disabled=t[2],kt(()=>e=!1)),!i&&8&o&&(i=!0,r.totalVotersNo=t[3],kt(()=>i=!1)),n.$set(r)},i(t){o||(Ot(n.$$.fragment,t),o=!0)},o(t){Ft(n.$$.fragment,t),o=!1},d(t){qt(n,t)}}}function un(t){let n,e,i,o,r,s;_t(t[11]),n=new Jt({props:{css:`\n  .content-container {\n    display: ${"grid"==t[7]?"grid":"flex"};\n\n    grid-template-columns: repeat(auto-fit, minmax(126px, 1fr));\n    grid-gap: ${t[5].itemsPadding}px;\n\n    flex-direction: column;\n\n    overflow: hidden;\n  }\n\n  .emoji-item {\n    position: relative;\n    display: flex;\n    align-items: center;\n\n    height: auto;\n\n    overflow: hidden;\n\n    background-color: ${t[5].itemFillColor};\n\n    transition: all 250ms ease;\n\n    cursor: pointer;\n  }\n\n  .emoji-item:hover, .emoji-item:hover .emoji-stroke {\n    background-color: ${t[5].itemFillHoverColor};\n    border-color: ${t[5].itemStrokeHoverColor};\n  }\n\n  .emoji-level {\n    position: absolute;\n    left: 0;\n    z-index: 0;\n    transition: all 600ms ease;\n    pointer-events: none;\n  }\n\n  .emoji-stroke {\n    position: absolute;\n    left: 0;\n    right:0;\n    top: 0;\n    bottom: 0;\n    box-sizing: border-box;\n    pointer-events: none;\n    border: ${t[5].itemStrokeSize}px solid ${t[5].itemStrokeColor};\n  }\n\n  .emoji-icon {\n    width:20px;\n    height:20px;\n\n    object-fit: contain;\n\n    user-select:none;\n    pointer-events: none;\n    z-index: 1;\n  }\n\n  .emoji-text-ct {\n    display: flex;\n    flex-direction: column;\n    z-index: 2;\n    white-space: nowrap;\n    overflow: hidden;\n    color: ${t[5].itemTextColor};\n\n    font-family: ${t[8]};\n    font-size: ${t[9]}px;\n  }\n\n  .emoji-text {\n    font-weight: normal;\n    font-stretch: normal;\n    font-style: normal;\n    line-height: 1.59;\n    letter-spacing: normal;\n    user-select:none;\n  }\n\n  .emoji-percent {\n    font-weight: bold;\n    font-stretch: normal;\n    font-style: normal;\n    line-height: 1.4;\n    letter-spacing: normal;\n    user-select:none;\n  }\n`}});let a=t[6],l=[];for(let n=0;n<a.length;n+=1)l[n]=cn(ln(t,a,n));const c=t=>Ft(l[t],1,1,()=>{l[t]=null});return{c(){Lt(n.$$.fragment),e=tt(),i=Q("div");for(let t=0;t<l.length;t+=1)l[t].c();it(i,"class","content-container")},m(a,c){Wt(n,a,c),X(a,e,c),X(a,i,c);for(let t=0;t<l.length;t+=1)l[t].m(i,null);t[15](i),o=!0,r||(s=[et(window,"resize",dn),et(window,"resize",t[11])],r=!0)},p(t,[e]){const o={};if(928&e&&(o.css=`\n  .content-container {\n    display: ${"grid"==t[7]?"grid":"flex"};\n\n    grid-template-columns: repeat(auto-fit, minmax(126px, 1fr));\n    grid-gap: ${t[5].itemsPadding}px;\n\n    flex-direction: column;\n\n    overflow: hidden;\n  }\n\n  .emoji-item {\n    position: relative;\n    display: flex;\n    align-items: center;\n\n    height: auto;\n\n    overflow: hidden;\n\n    background-color: ${t[5].itemFillColor};\n\n    transition: all 250ms ease;\n\n    cursor: pointer;\n  }\n\n  .emoji-item:hover, .emoji-item:hover .emoji-stroke {\n    background-color: ${t[5].itemFillHoverColor};\n    border-color: ${t[5].itemStrokeHoverColor};\n  }\n\n  .emoji-level {\n    position: absolute;\n    left: 0;\n    z-index: 0;\n    transition: all 600ms ease;\n    pointer-events: none;\n  }\n\n  .emoji-stroke {\n    position: absolute;\n    left: 0;\n    right:0;\n    top: 0;\n    bottom: 0;\n    box-sizing: border-box;\n    pointer-events: none;\n    border: ${t[5].itemStrokeSize}px solid ${t[5].itemStrokeColor};\n  }\n\n  .emoji-icon {\n    width:20px;\n    height:20px;\n\n    object-fit: contain;\n\n    user-select:none;\n    pointer-events: none;\n    z-index: 1;\n  }\n\n  .emoji-text-ct {\n    display: flex;\n    flex-direction: column;\n    z-index: 2;\n    white-space: nowrap;\n    overflow: hidden;\n    color: ${t[5].itemTextColor};\n\n    font-family: ${t[8]};\n    font-size: ${t[9]}px;\n  }\n\n  .emoji-text {\n    font-weight: normal;\n    font-stretch: normal;\n    font-style: normal;\n    line-height: 1.59;\n    letter-spacing: normal;\n    user-select:none;\n  }\n\n  .emoji-percent {\n    font-weight: bold;\n    font-stretch: normal;\n    font-style: normal;\n    line-height: 1.4;\n    letter-spacing: normal;\n    user-select:none;\n  }\n`),4194304&e&&(o.$$scope={dirty:e,ctx:t}),n.$set(o),1260&e){let n;for(a=t[6],n=0;n<a.length;n+=1){const o=ln(t,a,n);l[n]?(l[n].p(o,e),Ot(l[n],1)):(l[n]=cn(o),l[n].c(),Ot(l[n],1),l[n].m(i,null))}for(Nt(),n=a.length;n<l.length;n+=1)c(n);zt()}},i(t){if(!o){Ot(n.$$.fragment,t);for(let t=0;t<a.length;t+=1)Ot(l[t]);o=!0}},o(t){Ft(n.$$.fragment,t),l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)Ft(l[t]);o=!1},d(o){qt(n,o),o&&J(e),o&&J(i),K(l,o),t[15](null),r=!1,F(s)}}}function dn(t){}function hn(t,n,e){const i=gt();let{wWidth:o}=n,{wHeight:r}=n,{skin:s}=n,{content:a}=n,{layout:l}=n,{disabled:c}=n,{totalVotersNo:u}=n,{contentDiv:d}=n;pt(async()=>{});let h,f,p,g;return t.$$set=t=>{"wWidth"in t&&e(0,o=t.wWidth),"wHeight"in t&&e(1,r=t.wHeight),"skin"in t&&e(5,s=t.skin),"content"in t&&e(6,a=t.content),"layout"in t&&e(7,l=t.layout),"disabled"in t&&e(2,c=t.disabled),"totalVotersNo"in t&&e(3,u=t.totalVotersNo),"contentDiv"in t&&e(4,d=t.contentDiv)},t.$$.update=()=>{32&t.$$.dirty&&e(8,h=s.textFont.family),32&t.$$.dirty&&e(9,f=Math.max(s.textFont.size-2,0)),32&t.$$.dirty&&(p=s.textColor),32&t.$$.dirty&&(g=Yt()(s.itemHoverColor).setAlpha(.4))},[o,r,c,u,d,s,a,l,h,f,i,function(){e(0,o=window.innerWidth),e(1,r=window.innerHeight)},function(t){c=t,e(2,c)},function(t){u=t,e(3,u)},t=>i("itemClick",t.detail),function(t){vt[t?"unshift":"push"](()=>{d=t,e(4,d)})}]}var fn=class extends Ut{constructor(t){super(),Bt(this,t,hn,un,D,{wWidth:0,wHeight:1,skin:5,content:6,layout:7,disabled:2,totalVotersNo:3,contentDiv:4})}};function pn(t,n,e){const i=t.slice();return i[23]=n[e],i}function gn(t){let n,e;return{c(){n=Q("img"),it(n,"class","arrow-emoji emoji-icon"),it(n,"alt",""),n.src!==(e=t[23].emojiIcon)&&it(n,"src",e)},m(t,e){X(t,n,e)},p(t,i){1&i&&n.src!==(e=t[23].emojiIcon)&&it(n,"src",e)},d(t){t&&J(n)}}}function mn(t){let n,e=t[23].emojiIcon&&gn(t);return{c(){e&&e.c(),n=nt()},m(t,i){e&&e.m(t,i),X(t,n,i)},p(t,i){t[23].emojiIcon?e?e.p(t,i):(e=gn(t),e.c(),e.m(n.parentNode,n)):e&&(e.d(1),e=null)},d(t){e&&e.d(t),t&&J(n)}}}function vn(t){let n,e,i,o,r,s,a,l,c,u,d,h,f,p,g,m,v,b,w,y,$,x,_,k,j,S,A,C=(t[9]||"")+"";n=new Jt({props:{css:`\n\n  .header {\n    justify-content: space-between;\n  }\n\n  .title {\n\n  }\n\n  .arrow-container {\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n\n    overflow: hidden;\n\n    min-width: 99px;\n    height: 38px;\n\n    border-radius: 5px;\n    background-color: ${t[3].switchFillColor};\n\n    cursor: pointer;\n    margin-left: ${t[10]}px;\n  }\n  .arrow-emoji-samples {\n    position: relative;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    overflow: hidden;\n    height: ${t[5]?0:38}px;\n    transition: height 250ms ease;\n  }\n  .arrow-emoji {\n    margin: 0px 0px 0px 5px !important;\n  }\n\n  .voted-item-level {\n    position: absolute;\n    width: 0%;\n    height: 100%;\n    left:0;\n    z-index: 0;\n    transition: all 600ms ease;\n    pointer-events: none;\n    background-color: ${t[3].votesSecondaryColor};\n  }\n\n  .voted-item-percent {\n    width: 40px;\n    font-family: ${t[3].textFont.family};\n    font-size: ${t[3].textFont.size-4}px;\n    font-weight: bold;\n    font-stretch: normal;\n    font-style: normal;\n    line-height: 1.4;\n    letter-spacing: normal;\n    text-align: center;\n    color: ${t[3].textColor};\n    margin-left: 5px;\n    z-index: 2;\n  }\n\n  .arrow {\n    height: 12px;\n\n    margin: 13px 5px;\n\n    transition: 250ms ease all;\n    z-index: 3;\n  }\n\n  .arrow-up {\n    transform: rotate(180deg);\n    height: ${t[5]?16:0}px;\n    transition: height 250ms ease;\n    margin: ${t[5]?11:0}px;\n  }\n\n\n  .content-holder {\n    height: ${t[8]}px;\n    transition: all 250ms ease;\n  }\n\n  .emoji-item {\n    padding: 10px;\n    border-radius: 5px;\n  }\n\n  .emoji-text-ct {\n    margin-left: 10px;\n  }\n`}});let E=t[0].slice(0,3),T=[];for(let n=0;n<E.length;n+=1)T[n]=mn(pn(t,E,n));function P(n){t[16].call(null,n)}function H(n){t[17].call(null,n)}function M(n){t[18].call(null,n)}function N(n){t[19].call(null,n)}let z={skin:t[3],layout:t[4]};return void 0!==t[0]&&(z.content=t[0]),void 0!==t[7]&&(z.contentDiv=t[7]),void 0!==t[1]&&(z.disabled=t[1]),void 0!==t[2]&&(z.totalVotersNo=t[2]),y=new fn({props:z}),vt.push(()=>Vt(y,"content",P)),vt.push(()=>Vt(y,"contentDiv",H)),vt.push(()=>Vt(y,"disabled",M)),vt.push(()=>Vt(y,"totalVotersNo",N)),y.$on("itemClick",t[20]),{c(){Lt(n.$$.fragment),e=tt(),i=Q("div"),o=Q("div"),r=tt(),s=Q("div"),a=Y("svg"),l=Y("use"),c=tt(),u=Q("div");for(let t=0;t<T.length;t+=1)T[t].c();d=tt(),h=Y("svg"),f=Y("symbol"),p=Y("path"),g=tt(),m=Y("svg"),v=Y("use"),b=tt(),w=Q("div"),Lt(y.$$.fragment),it(o,"class","title"),ot(l,"xlink:href","#icon-arrow-down"),it(a,"class","arrow-up"),it(a,"viewBox","0 0 284.929 284.929"),it(p,"d","M282.082,76.511l-14.274-14.273c-1.902-1.906-4.093-2.856-6.57-2.856c-2.471,0-4.661,0.95-6.563,2.856L142.466,174.441\n            L30.262,62.241c-1.903-1.906-4.093-2.856-6.567-2.856c-2.475,0-4.665,0.95-6.567,2.856L2.856,76.515C0.95,78.417,0,80.607,0,83.082\n            c0,2.473,0.953,4.663,2.856,6.565l133.043,133.046c1.902,1.903,4.093,2.854,6.567,2.854s4.661-0.951,6.562-2.854L282.082,89.647\n            c1.902-1.903,2.847-4.093,2.847-6.565C284.929,80.607,283.984,78.417,282.082,76.511z"),it(f,"id","icon-arrow-down"),it(f,"width","284.929px"),it(f,"height","284.929px"),it(f,"viewBox","0 0 284.929 284.929"),it(h,"xmlns","http://www.w3.org/2000/svg"),rt(h,"display","none"),ot(v,"xlink:href","#icon-arrow-down"),it(m,"class","arrow"),it(m,"viewBox","0 0 284.929 284.929"),it(u,"class","arrow-emoji-samples"),it(s,"class","arrow-container"),it(i,"class","header"),it(w,"class","content-holder")},m($,x){Wt(n,$,x),X($,e,x),X($,i,x),G(i,o),o.innerHTML=C,G(i,r),G(i,s),G(s,a),G(a,l),G(s,c),G(s,u);for(let t=0;t<T.length;t+=1)T[t].m(u,null);G(u,d),G(u,h),G(h,f),G(f,p),G(u,g),G(u,m),G(m,v),t[15](i),X($,b,x),X($,w,x),Wt(y,w,null),j=!0,S||(A=[et(window,"resize",t[12]),et(s,"click",t[13])],S=!0)},p(t,[e]){const i={};if(1320&e&&(i.css=`\n\n  .header {\n    justify-content: space-between;\n  }\n\n  .title {\n\n  }\n\n  .arrow-container {\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n\n    overflow: hidden;\n\n    min-width: 99px;\n    height: 38px;\n\n    border-radius: 5px;\n    background-color: ${t[3].switchFillColor};\n\n    cursor: pointer;\n    margin-left: ${t[10]}px;\n  }\n  .arrow-emoji-samples {\n    position: relative;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    overflow: hidden;\n    height: ${t[5]?0:38}px;\n    transition: height 250ms ease;\n  }\n  .arrow-emoji {\n    margin: 0px 0px 0px 5px !important;\n  }\n\n  .voted-item-level {\n    position: absolute;\n    width: 0%;\n    height: 100%;\n    left:0;\n    z-index: 0;\n    transition: all 600ms ease;\n    pointer-events: none;\n    background-color: ${t[3].votesSecondaryColor};\n  }\n\n  .voted-item-percent {\n    width: 40px;\n    font-family: ${t[3].textFont.family};\n    font-size: ${t[3].textFont.size-4}px;\n    font-weight: bold;\n    font-stretch: normal;\n    font-style: normal;\n    line-height: 1.4;\n    letter-spacing: normal;\n    text-align: center;\n    color: ${t[3].textColor};\n    margin-left: 5px;\n    z-index: 2;\n  }\n\n  .arrow {\n    height: 12px;\n\n    margin: 13px 5px;\n\n    transition: 250ms ease all;\n    z-index: 3;\n  }\n\n  .arrow-up {\n    transform: rotate(180deg);\n    height: ${t[5]?16:0}px;\n    transition: height 250ms ease;\n    margin: ${t[5]?11:0}px;\n  }\n\n\n  .content-holder {\n    height: ${t[8]}px;\n    transition: all 250ms ease;\n  }\n\n  .emoji-item {\n    padding: 10px;\n    border-radius: 5px;\n  }\n\n  .emoji-text-ct {\n    margin-left: 10px;\n  }\n`),67108864&e&&(i.$$scope={dirty:e,ctx:t}),n.$set(i),(!j||512&e)&&C!==(C=(t[9]||"")+"")&&(o.innerHTML=C),1&e){let n;for(E=t[0].slice(0,3),n=0;n<E.length;n+=1){const i=pn(t,E,n);T[n]?T[n].p(i,e):(T[n]=mn(i),T[n].c(),T[n].m(u,d))}for(;n<T.length;n+=1)T[n].d(1);T.length=E.length}const r={};8&e&&(r.skin=t[3]),16&e&&(r.layout=t[4]),!$&&1&e&&($=!0,r.content=t[0],kt(()=>$=!1)),!x&&128&e&&(x=!0,r.contentDiv=t[7],kt(()=>x=!1)),!_&&2&e&&(_=!0,r.disabled=t[1],kt(()=>_=!1)),!k&&4&e&&(k=!0,r.totalVotersNo=t[2],kt(()=>k=!1)),y.$set(r)},i(t){j||(Ot(n.$$.fragment,t),Ot(y.$$.fragment,t),j=!0)},o(t){Ft(n.$$.fragment,t),Ft(y.$$.fragment,t),j=!1},d(o){qt(n,o),o&&J(e),o&&J(i),K(T,o),t[15](null),o&&J(b),o&&J(w),qt(y),S=!1,F(A)}}}function bn(t,n,e){const i=gt();let o,r,s,{skin:a}=n,{content:l}=n,{layout:c}=n,{disabled:u}=n,{totalVotersNo:d}=n,h=!1,f=0;function p(t){e(8,f=h?r.clientHeight:0)}pt(async()=>{});let g,m,v;return t.$$set=t=>{"skin"in t&&e(3,a=t.skin),"content"in t&&e(0,l=t.content),"layout"in t&&e(4,c=t.layout),"disabled"in t&&e(1,u=t.disabled),"totalVotersNo"in t&&e(2,d=t.totalVotersNo)},t.$$.update=()=>{1&t.$$.dirty&&(g=l.length),1&t.$$.dirty&&e(9,m=l[0]?l[0].titleText:""),8&t.$$.dirty&&e(10,v=a.elementsPadding)},[l,u,d,a,c,h,o,r,f,m,v,i,p,function(){e(5,h=!h),p(),i("resize")},function(){return o?o.clientHeight+(h&&l.length?v+r.clientHeight:0)+(h&&s&&s.clientHeight>0?v+s.clientHeight:0):0},function(t){vt[t?"unshift":"push"](()=>{o=t,e(6,o)})},function(t){l=t,e(0,l)},function(t){r=t,e(7,r)},function(t){u=t,e(1,u)},function(t){d=t,e(2,d)},t=>{i("resize"),i("itemClick",t.detail)}]}var wn=class extends Ut{constructor(t){super(),Bt(this,t,bn,vn,D,{skin:3,content:0,layout:4,disabled:1,totalVotersNo:2,cHeight:14})}get cHeight(){return this.$$.ctx[14]}};function yn(t){let n,e,i,o,r,s,a,l,c,u,d,h,f,p,g=(t[8]||"")+"";function m(n){t[13].call(null,n)}function v(n){t[14].call(null,n)}function b(n){t[15].call(null,n)}function w(n){t[16].call(null,n)}n=new Jt({props:{css:`\n\n  .header {\n    justify-content: center;\n  }\n\n  .title {\n\n  }\n\n  .content-holder {\n    height: ${t[7]}px;\n  }\n\n  .emoji-item {\n    flex-direction: column;\n    padding: 15%;\n  }\n\n  .emoji-icon {\n    width:  50px !important;\n    height:  50px !important;\n    margin-bottom: 15%;\n  }\n\n  .emoji-text-ct {\n    justify-content: center;\n    text-align: center;\n  }\n\n  .emoji-percent {\n    text-align: center;\n  }\n\n`}});let y={skin:t[3],layout:t[4]};return void 0!==t[0]&&(y.content=t[0]),void 0!==t[6]&&(y.contentDiv=t[6]),void 0!==t[1]&&(y.disabled=t[1]),void 0!==t[2]&&(y.totalVotersNo=t[2]),a=new fn({props:y}),vt.push(()=>Vt(a,"content",m)),vt.push(()=>Vt(a,"contentDiv",v)),vt.push(()=>Vt(a,"disabled",b)),vt.push(()=>Vt(a,"totalVotersNo",w)),a.$on("itemClick",t[17]),{c(){Lt(n.$$.fragment),e=tt(),i=Q("div"),o=Q("div"),r=tt(),s=Q("div"),Lt(a.$$.fragment),it(o,"class","title"),it(i,"class","header"),it(s,"class","content-holder")},m(l,c){Wt(n,l,c),X(l,e,c),X(l,i,c),G(i,o),o.innerHTML=g,t[12](i),X(l,r,c),X(l,s,c),Wt(a,s,null),h=!0,f||(p=et(window,"resize",t[10]),f=!0)},p(t,[e]){const i={};128&e&&(i.css=`\n\n  .header {\n    justify-content: center;\n  }\n\n  .title {\n\n  }\n\n  .content-holder {\n    height: ${t[7]}px;\n  }\n\n  .emoji-item {\n    flex-direction: column;\n    padding: 15%;\n  }\n\n  .emoji-icon {\n    width:  50px !important;\n    height:  50px !important;\n    margin-bottom: 15%;\n  }\n\n  .emoji-text-ct {\n    justify-content: center;\n    text-align: center;\n  }\n\n  .emoji-percent {\n    text-align: center;\n  }\n\n`),2097152&e&&(i.$$scope={dirty:e,ctx:t}),n.$set(i),(!h||256&e)&&g!==(g=(t[8]||"")+"")&&(o.innerHTML=g);const r={};8&e&&(r.skin=t[3]),16&e&&(r.layout=t[4]),!l&&1&e&&(l=!0,r.content=t[0],kt(()=>l=!1)),!c&&64&e&&(c=!0,r.contentDiv=t[6],kt(()=>c=!1)),!u&&2&e&&(u=!0,r.disabled=t[1],kt(()=>u=!1)),!d&&4&e&&(d=!0,r.totalVotersNo=t[2],kt(()=>d=!1)),a.$set(r)},i(t){h||(Ot(n.$$.fragment,t),Ot(a.$$.fragment,t),h=!0)},o(t){Ft(n.$$.fragment,t),Ft(a.$$.fragment,t),h=!1},d(o){qt(n,o),o&&J(e),o&&J(i),t[12](null),o&&J(r),o&&J(s),qt(a),f=!1,p()}}}function $n(t,n,e){const i=gt();let o,r,s,a,{skin:l}=n,{content:c}=n,{layout:u}=n,{disabled:d}=n,{totalVotersNo:h}=n;pt(async()=>{});let f,p,g;return t.$$set=t=>{"skin"in t&&e(3,l=t.skin),"content"in t&&e(0,c=t.content),"layout"in t&&e(4,u=t.layout),"disabled"in t&&e(1,d=t.disabled),"totalVotersNo"in t&&e(2,h=t.totalVotersNo)},t.$$.update=()=>{1&t.$$.dirty&&(f=c.length),1&t.$$.dirty&&e(8,p=c[0]?c[0].titleText:""),8&t.$$.dirty&&(g=l.elementsPadding)},[c,d,h,l,u,o,r,a,p,i,function(t){e(7,a=r?r.clientHeight:0)},function(){return o?o.clientHeight+(c.length?g+(r?r.clientHeight:0):0)+((s&&s.clientHeight?g:0)+(s&&s.clientHeight?s.clientHeight:0)):0},function(t){vt[t?"unshift":"push"](()=>{o=t,e(5,o)})},function(t){c=t,e(0,c)},function(t){r=t,e(6,r)},function(t){d=t,e(1,d)},function(t){h=t,e(2,h)},t=>{i("resize"),i("itemClick",t.detail)}]}var xn=class extends Ut{constructor(t){super(),Bt(this,t,$n,yn,D,{skin:3,content:0,layout:4,disabled:1,totalVotersNo:2,cHeight:11})}get cHeight(){return this.$$.ctx[11]}};function _n(t){let n,e,i,o,r,s,a,l,c,u,d,h;function f(n){t[29].call(null,n)}function p(n){t[30].call(null,n)}function g(n){t[31].call(null,n)}_t(t[27]),n=new Jt({props:{css:`\n  .widget-root {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    width:  calc(100% - ${2*(t[2].widgetPadding+t[10])}px);\n    height: calc(100% - ${2*(t[2].widgetPadding+t[10])}px);\n    background-color: ${t[8]};\n    outline: 0;\n    padding: ${t[2].widgetPadding}px;\n    border-radius: ${t[11]}px;\n    border: solid ${t[10]}px ${t[12]};\n    overflow: hidden;\n  }\n\n  .header {\n    display:flex;\n    align-items: center;\n    overflow: hidden;\n    margin-bottom: ${t[9]}px;\n  }\n\n  .title {\n    font-family: ${t[2].textFont.family};\n    font-size: ${t[2].textFont.size}px;\n    font-weight: bold;\n    font-stretch: normal;\n    font-style: normal;\n    line-height: 1.4;\n    letter-spacing: normal;\n    text-align: center;\n    color: ${t[2].textColor};\n  }\n\n  .content-holder {\n    overflow: hidden;\n  }\n\n  ${t[4]}\n`}});var m=t[7];function v(t){let n={skin:t[2],layout:t[6],titleText:t[13]};return void 0!==t[14]&&(n.content=t[14]),void 0!==t[15]&&(n.disabled=t[15]),void 0!==t[16]&&(n.totalVotersNo=t[16]),{props:n}}return m&&(o=new m(v(t)),t[28](o),vt.push(()=>Vt(o,"content",f)),vt.push(()=>Vt(o,"disabled",p)),vt.push(()=>Vt(o,"totalVotersNo",g)),o.$on("resize",t[32]),o.$on("itemClick",t[33])),c=new en({props:{color:t[8],visible:t[3]}}),{c(){Lt(n.$$.fragment),e=tt(),i=Q("div"),o&&Lt(o.$$.fragment),l=tt(),Lt(c.$$.fragment),it(i,"class","widget-root")},m(r,s){Wt(n,r,s),X(r,e,s),X(r,i,s),o&&Wt(o,i,null),X(r,l,s),Wt(c,r,s),u=!0,d||(h=[et(window,"resize",t[26]),et(window,"resize",t[27])],d=!0)},p(t,e){const l={};7956&e[0]&&(l.css=`\n  .widget-root {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    width:  calc(100% - ${2*(t[2].widgetPadding+t[10])}px);\n    height: calc(100% - ${2*(t[2].widgetPadding+t[10])}px);\n    background-color: ${t[8]};\n    outline: 0;\n    padding: ${t[2].widgetPadding}px;\n    border-radius: ${t[11]}px;\n    border: solid ${t[10]}px ${t[12]};\n    overflow: hidden;\n  }\n\n  .header {\n    display:flex;\n    align-items: center;\n    overflow: hidden;\n    margin-bottom: ${t[9]}px;\n  }\n\n  .title {\n    font-family: ${t[2].textFont.family};\n    font-size: ${t[2].textFont.size}px;\n    font-weight: bold;\n    font-stretch: normal;\n    font-style: normal;\n    line-height: 1.4;\n    letter-spacing: normal;\n    text-align: center;\n    color: ${t[2].textColor};\n  }\n\n  .content-holder {\n    overflow: hidden;\n  }\n\n  ${t[4]}\n`),1&e[2]&&(l.$$scope={dirty:e,ctx:t}),n.$set(l);const u={};if(4&e[0]&&(u.skin=t[2]),64&e[0]&&(u.layout=t[6]),8192&e[0]&&(u.titleText=t[13]),!r&&16384&e[0]&&(r=!0,u.content=t[14],kt(()=>r=!1)),!s&&32768&e[0]&&(s=!0,u.disabled=t[15],kt(()=>s=!1)),!a&&65536&e[0]&&(a=!0,u.totalVotersNo=t[16],kt(()=>a=!1)),m!==(m=t[7])){if(o){Nt();const t=o;Ft(t.$$.fragment,1,0,()=>{qt(t,1)}),zt()}m?(o=new m(v(t)),t[28](o),vt.push(()=>Vt(o,"content",f)),vt.push(()=>Vt(o,"disabled",p)),vt.push(()=>Vt(o,"totalVotersNo",g)),o.$on("resize",t[32]),o.$on("itemClick",t[33]),Lt(o.$$.fragment),Ot(o.$$.fragment,1),Wt(o,i,null)):o=null}else m&&o.$set(u);const d={};256&e[0]&&(d.color=t[8]),8&e[0]&&(d.visible=t[3]),c.$set(d)},i(t){u||(Ot(n.$$.fragment,t),o&&Ot(o.$$.fragment,t),Ot(c.$$.fragment,t),u=!0)},o(t){Ft(n.$$.fragment,t),o&&Ft(o.$$.fragment,t),Ft(c.$$.fragment,t),u=!1},d(r){qt(n,r),r&&J(e),r&&J(i),t[28](null),o&&qt(o),r&&J(l),qt(c,r),d=!1,F(h)}}}function kn(t){}function jn(t,n,e){let i=a.Data;const o={adaptive:wn,grid:xn};let r,s,l,c,u,d,h,f,p,g,m,v,b,w=!1,{wWidth:y}=n,{wHeight:$}=n,{skin:x}=n,{content:_}=n,k=[],j="undefined",S=!1;function A(t){setTimeout(()=>{let t=2*M+(b&&b.cHeight?b.cHeight():0)+2*z;t>0&&a.Autoscale.setHeight(t)},120)}function C(){e(3,S=!0),i.readAllData().then(t=>{e(45,k=t),A(),e(3,S=!1)},t=>{console.log("USERS DATA read error:",{err:t}.err.message),e(3,S=!1)})}function E(t){e(3,S=!0),i.saveData({voteid:t}).then(t=>{!function(t){e(47,j=t),localStorage[m]=t}(t.voteid),C()},t=>{console.log("Data create error:",{err:t}.err.message),e(3,S=!1)})}pt(async()=>{a.Fonts.updates.listen(t=>{e(4,v=t)}),e(34,w=a.Adaptive.isOnAdaptive),a.Adaptive.updates.listen(t=>{e(34,w=t)}),m=a.metadata&&a.metadata.composition?a.metadata.composition.id:"",localStorage&&e(47,j=localStorage[m]),setTimeout(()=>{document.dispatchEvent(new CustomEvent("init",{detail:{compositionId:m}}))},100),C()});let T,P,H,M,N,z,O,F,R,D,I,V,L,W,q,B,U,G;return t.$$set=t=>{"wWidth"in t&&e(0,y=t.wWidth),"wHeight"in t&&e(1,$=t.wHeight),"skin"in t&&e(2,x=t.skin),"content"in t&&e(19,_=t.content)},t.$$.update=()=>{4&t.$$.dirty[0]|8&t.$$.dirty[1]&&e(6,T=w||!x.layout?"adaptive":x.layout),64&t.$$.dirty[0]&&e(7,P=o[T]),4&t.$$.dirty[0]&&e(8,H=x.backgroundColor?x.backgroundColor:"rgba(255,255,255,1)"),4&t.$$.dirty[0]&&e(48,M=x.widgetPadding),4&t.$$.dirty[0]&&e(9,N=x.elementsPadding),4&t.$$.dirty[0]&&e(10,z=x.borderSize?x.borderSize:0),4&t.$$.dirty[0]&&e(11,O=x.borderRadius?x.borderRadius:0),4&t.$$.dirty[0]&&e(12,F=x.borderColor?x.borderColor:"rgba(255,255,255,1)"),524288&t.$$.dirty[0]&&e(13,R=_[0]?_[0].titleText:""),4&t.$$.dirty[0]&&e(49,D=x.textFont.family),4&t.$$.dirty[0]&&e(50,I=x.textFont.size),4&t.$$.dirty[0]&&(V=x.textColor),4&t.$$.dirty[0]&&e(52,L=x.itemsPadding),4&t.$$.dirty[0]&&e(53,W=x.itemStrokeSize),524288&t.$$.dirty[0]|16384&t.$$.dirty[1]&&e(14,q=function(t,n){let e=[];return t.forEach((t,i)=>{t.noVotes=0,n.forEach((n,e)=>{t.id==n.voteid&&t.noVotes++}),t.id==j&&(t.currentVote=!0),e.push(t)}),e}(_,k)),524288&t.$$.dirty[0]&&e(54,B=_.length),65536&t.$$.dirty[1]&&e(15,U="undefined"!=j),524288&t.$$.dirty[0]|16384&t.$$.dirty[1]&&e(16,G=_.length&&k.length?k.length:0),534080&t.$$.dirty[0]|15613936&t.$$.dirty[1]&&(r==T&&g==B&&p==_&&f==L&&c==z&&s==M&&l==N&&u==R&&d==D&&h==I&&null==W||A(),e(35,r=T),e(44,g=B),e(43,p=_),e(42,f=L),e(38,c=z),e(36,s=M),e(37,l=N),e(39,u=R),e(40,d=D),e(41,h=I))},[y,$,x,S,v,b,T,P,H,N,z,O,F,R,q,U,G,A,E,_,kn,function(t){var n;n=t.id,e(3,S=!0),i.deleteDataWithProperty("voteid",n).then(t=>{console.log("DATA deleted result:",t),e(3,S=!1),C()},t=>{console.log("DATA deleted error:",{err:t}.err.message),e(3,S=!1)})},function(t=1){let n=_[t-1];n&&E(n.id);let e=n?n.id:"";a.Events.dispatch("didVote",{voteId:e})},function(t){a.Events.dispatch("evExample",{compositionId:m})},function(){console.log("play function to play media!"),a.Events.dispatch("startPlaying",{trackNo:3}),a.Events.startPlaying()},function(){console.log("pause function to play media!"),a.Events.dispatch("stopPlaying",{trackNo:3})},()=>A(),function(){e(0,y=window.innerWidth),e(1,$=window.innerHeight)},function(t){vt[t?"unshift":"push"](()=>{b=t,e(5,b)})},function(t){q=t,e(14,q),e(19,_),e(45,k)},function(t){U=t,e(15,U),e(47,j)},function(t){G=t,e(16,G),e(19,_),e(45,k)},()=>A(),t=>E(t.detail.id)]}var Sn=class extends Ut{constructor(t){super(),Bt(this,t,jn,_n,D,{wWidth:0,wHeight:1,skin:2,content:19,addContent:20,removeContent:21,voteItemNo:22,methodExample:23,play:24,pause:25},[-1,-1,-1])}get addContent(){return kn}get removeContent(){return this.$$.ctx[21]}get voteItemNo(){return this.$$.ctx[22]}get methodExample(){return this.$$.ctx[23]}get play(){return this.$$.ctx[24]}get pause(){return this.$$.ctx[25]}};e.d(n,"default",(function(){return An}));class An extends H{getPublicMethods(){return["methodExample","voteItemNo"]}getPublicEvents(){return["evExample","didVote"]}getComponent(){return Sn}}var Cn={"widget-base-template":function(t,n,e){e.exports=An}};window.require.define(Cn)}]);
//# sourceMappingURL=widget.js.map